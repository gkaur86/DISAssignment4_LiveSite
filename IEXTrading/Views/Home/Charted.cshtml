@using IEXTrading.Models
@using Newtonsoft.Json;

@{ ViewData["Title"] = "Charts"; }
@model inputstate
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Do Not Call Complaints</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.bundle.min.js"></script>
    <script>


        var DoughnutChartData =
            {
                labels: @Html.Raw(ViewBag.ROBO),
                datasets: [{
                    label: 'Robo Calls',
                    backgroundColor: [
                        "#f990a7",
                        "#aad2ed",
                        "#9966FF",
                        "#99e5e5",
                    ],
                    borderWidth: 2,
                    data: @Html.Raw(ViewBag.VAL)
                }]
        };

         var HorizontalChartData =
            {
            labels: @Html.Raw(ViewBag.SUB),

            datasets: [{
                axis: 'y',
                    label: 'Type of SPAM Calls',
                    backgroundColor: 'rgb(0, 0, 255)',
                    borderWidth: 1,
                    data: @Html.Raw(ViewBag.NUMS)
                }]
            };

        window.onload = function () {
            var ctx1 = document.getElementById("Doughnutcanvas").getContext("2d");
            window.myDough = new Chart(ctx1,
                {
                    type: 'doughnut',
                    data: DoughnutChartData,
                    options:
                    {
                        title:
                        {
                            display: true,
                            text: "RoboCall Doughnut"
                        },

                        responsive: true,
                        maintainAspectRatio: true
                    }
                });

            var ctx2 = document.getElementById("HorizontalChartCanvas").getContext("2d");
            window.myBar = new Chart(ctx2,
                {
                    type: 'horizontalBar',
                    data: HorizontalChartData,
                    options: {
                        legend: {
                            display: false
                        },
                        title:
                        {
                            display: true,
                            text: "Types of Do not Call Reports"
                        },
                        indexAxis: 'y',
                        responsive: true,
                    }
                });

            $('#selectstate').val($.trim(@Model.state));
        }
    </script>
    <!---
    <script>


        var HorizontalChartData =
            {
            labels: @Html.Raw(ViewBag.SUB),

            datasets: [{
                axis: 'y',
                    label: 'Type of SPAM Calls',
                    backgroundColor: 'rgb(0, 0, 255)',
                    borderWidth: 1,
                    data: @Html.Raw(ViewBag.NUMS)
                }]
            };

            window.onload = function () {
                var ctx2 = document.getElementById("HorizontalChartCanvas").getContext("2d");
                window.myBar = new Chart(ctx2,
                    {
                        type: 'bar',
                        data: HorizontalChartData,
                        options: {
                            indexAxis: 'y',
                            responsive: false,
                        }
                    });
            }
    </script>
        -->
</head>
<body>
    <div class="w3-container w3-content w3-center w3-padding-64" style="max-width:800px" id="band">
        <h2>One-Many Relationship</h2>
        <p>This page shows the One-Many Relationship. 
        <br />
        USA has 50 states and there are many complaints from each state
        <br />
        <em>Since every state has at least 100 complaints (some have over 1,000) complaints. We have shown the summary of the complaints in the selected state.</em>
        
        </p>
        <br />
        <h2 class="w3-wide">Different Kinds of Charts</h2>

        

        <p>

            <form asp-controller="Home" asp-action="Charted" method="post">
                Select State: <select onchange="this.form.submit()" asp-for=state id="selectstate">
                    <option value="USA">USA</option>
                    <option value="Alabama">Alabama</option>
                    <option value="Alaska">Alaska</option>
                    <option value="Arizona">Arizona</option>
                    <option value="Arkansas">Arkansas</option>
                    <option value="California">California</option>
                    <option value="Colorado">Colorado</option>
                    <option value="Connecticut">Connecticut</option>
                    <option value="Delaware">Delaware</option>
                    <option value="District of Columbia">District of Columbia</option>
                    <option value="Florida">Florida</option>
                    <option value="Georgia">Georgia</option>
                    <option value="Hawaii">Hawaii</option>
                    <option value="Idaho">Idaho</option>
                    <option value="Illinois">Illinois</option>
                    <option value="Indiana">Indiana</option>
                    <option value="Iowa">Iowa</option>
                    <option value="Kansas">Kansas</option>
                    <option value="Kentucky">Kentucky</option>
                    <option value="Louisiana">Louisiana</option>
                    <option value="Maine">Maine</option>
                    <option value="Maryland">Maryland</option>
                    <option value="Massachusetts">Massachusetts</option>
                    <option value="Michigan">Michigan</option>
                    <option value="Minnesota">Minnesota</option>
                    <option value="Mississippi">Mississippi</option>
                    <option value="Missouri">Missouri</option>
                    <option value="Montana">Montana</option>
                    <option value="Nebraska">Nebraska</option>
                    <option value="Nevada">Nevada</option>
                    <option value="New Hampshire">New Hampshire</option>
                    <option value="New Jersey">New Jersey</option>
                    <option value="New Mexico">New Mexico</option>
                    <option value="New York">New York</option>
                    <option value="North Carolina">North Carolina</option>
                    <option value="North Dakota">North Dakota</option>
                    <option value="Ohio">Ohio</option>
                    <option value="Oklahoma">Oklahoma</option>
                    <option value="Oregon">Oregon</option>
                    <option value="Pennsylvania">Pennsylvania</option>
                    <option value="Puerto Rico">Puerto Rico</option>
                    <option value="Rhode Island">Rhode Island</option>
                    <option value="South Carolina">South Carolina</option>
                    <option value="South Dakota">South Dakota</option>
                    <option value="Tennessee">Tennessee</option>
                    <option value="Texas">Texas</option>
                    <option value="Utah">Utah</option>
                    <option value="Vermont">Vermonte</option>
                    <option value="Virginia">Virginia</option>
                    <option value="Washington">Washington</option>
                    <option value="West Virginia">West Virginia</option>
                    <option value="Wisconsin">Wisconsin</option>
                    <option value="Wyoming">Wyoming</option>

                </select>
            </form>
            <div id="barg" style="width:100%" aligh="left">
                <canvas id="HorizontalChartCanvas"></canvas>
            </div>
            <div id="dough" style="width:100%" aligh="right">
                <canvas id="Doughnutcanvas"></canvas>
            </div>
</div>

</body>

</html>